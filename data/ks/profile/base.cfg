[main]
name=base
log_to_file=1

[jobs]
items=crop,binarize,cropWhite,featureSelection,train,validate
#items=deskew,featureSelection,train,validate

[job_cropWhite]
function=crop_white
keep_height=1
width_offset=3

[job_scale]
function=scale
scale_h=120
scale_w=10

[job_crop]
input_directory=../data/ks/images/
function=crop
svg_dir=../data/ks/ground-truth/locations/
apply_polygon_mask=1

[job_binarize]
function=binarize
method=yen
otsu_nbins=256
local_block_size=71
keep_foreground=1

[job_deskew]
function=deskew

[job_featureSelection]
#input_directory=../data/ks/job/cropWhite/
type=ImageFeatures
orientations=9
pixels_per_cell=20,20
cells_per_block=2,2
adapt_pixels_per_cell=1
output_path=../data/ks/features.csv

[job_train]
type=DtwTrain
lib=dtwalign
window_type=sakoechiba
window_size=1000
output_path=../data/ks/clusters_base.csv

[job_validate]
type=DtwValidate
lib=dtwalign
window_type=sakoechiba
window_size=1000
